<div class="container"> <h2>Create a New Quote</h2> <form *ngIf="step === 1"> <h3>Business Details</h3> <label>Business Name</label> <input type="text" [(ngModel)]="quote.businessName"> <label>Annual Turnover</label> <input type="number" [(ngModel)]="quote.annualTurnover"> <label>Business Type</label> <input type="text" [(ngModel)]="quote.businessType"> <button type="button" (click)="nextStep()">Next</button> </form> <form *ngIf="step === 2"> <h3>Property Details</h3> <label>Property Type</label> <input type="text" [(ngModel)]="quote.propertyType"> <label>Property Value</label> <input type="number" [(ngModel)]="quote.propertyValue"> <label>Ownership Type</label> <input type="text" [(ngModel)]="quote.ownershipType"> <button type="button" (click)="prevStep()">Back</button> <button type="button" (click)="nextStep()">Next</button> </form> <form *ngIf="step === 3"> <h3>Security Measures</h3> <label>Security Systems</label> <input type="text" [(ngModel)]="quote.securitySystem"> <label>Previous Claims</label> <input type="text" [(ngModel)]="quote.previousClaims"> <label>Preferred Plan</label> <select [(ngModel)]="quote.planType"> <option value="Normal">Normal - 2.5%</option> <option value="Gold">Gold - 5%</option> <option value="Premium">Premium - 7.5%</option> </select> <button type="button" (click)="prevStep()">Back</button> <button type="button" (click)="submitQuote()">Submit</button> </form> </div> import { Component } from '@angular/core'; import { UserServiceService } from '../../Services/User.Service/user-service.service'; import { Router } from '@angular/router'; import { FormBuilder, FormGroup, FormsModule, Validators } from '@angular/forms'; import { Quote } from '../../shared/Models/Quote.Model'; import { NgIf } from '@angular/common'; @Component({ selector: 'app-quote', imports: [NgIf,FormsModule], templateUrl: './quote.component.html', styleUrl: './quote.component.css', standalone:true, }) export class QuoteComponent { step: number = 1; quoteForm: FormGroup; quote: Partial<Quote> = {}; brokerName: string = ''; brokerId: string = ''; constructor( private fb: FormBuilder, private userService: UserServiceService, private router: Router ) { this.quoteForm = this.fb.group({ annualTurnover: [null, Validators.required], propertyValue: [null, Validators.required], equipmentValue: [null, Validators.required], employeeCount: [null, Validators.required], businessType: ['', Validators.required], locationType: ['', Validators.required], securityMeasures: [false], planType: ['Normal', Validators.required] }); } ngOnInit(): void { if (!this.userService.getLoggedInUser()) { this.router.navigate(['/login']); } const user = JSON.parse(localStorage.getItem('user') || '{}'); this.brokerName = user.name; this.brokerId = user.id; } nextStep() { if (this.step < 4) { this.step++; } } prevStep() { if (this.step > 1) { this.step--; } } submitQuote() { const formData = this.quoteForm.value; const baseRate = formData.planType === 'Normal' ? 2.5 : formData.planType === 'Gold' ? 5 : 7.5; let quoteAmount = (formData.annualTurnover * baseRate) / 100; quoteAmount += (formData.propertyValue * 0.1) / 100; quoteAmount += (formData.equipmentValue * 0.2) / 100; quoteAmount += formData.employeeCount > 20 ? formData.employeeCount * 1.5 : 0; quoteAmount += formData.businessType === 'High Risk' ? (quoteAmount * 5) / 100 : 0; quoteAmount += formData.locationType === 'Urban' ? (quoteAmount * 2) / 100 : 0; quoteAmount -= formData.securityMeasures ? (quoteAmount * 3) / 100 : 0; const newQuote: Quote = { brokerName: this.brokerName, brokerId: this.brokerId, ...formData, quoteAmount }; const savedQuotes = JSON.parse(localStorage.getItem('quotes') || '[]'); savedQuotes.push(newQuote); localStorage.setItem('quotes', JSON.stringify(savedQuotes)); alert('Quote submitted successfully!'); } } .container { max-width: 600px; margin: auto; padding: 20px; background-color: #FFFFFF; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); border-radius: 8px; margin-top: 85px; } h2 { text-align: center; color: #1F2937; } h3 { margin-bottom: 15px; color: #1F2937; } label { display: block; margin-bottom: 5px; color: #6B7280; } input, select { width: 100%; padding: 10px; margin-bottom: 15px; border: 1px solid #E5E7EB; border-radius: 5px; } button { padding: 10px 20px; border: none; border-radius: 5px; background-color: #1F2937; color: #FFFFFF; cursor: pointer; transition: background-color 0.3s; } button:hover { background-color: #0A0A0A; } button + button { margin-left: 10px; } export interface Quote { brokerName: string; brokerId: string; businessName: string; annualTurnover: number; propertyType: string; propertyValue: number; ownershipType: string; equipmentValue: number; employeeCount: number; businessType: string; locationType: string; securitySystem: string; previousClaims: string; securityMeasures: boolean; planType: 'Normal' | 'Gold' | 'Premium'; quoteAmount: number; } so this is the quote model,ts,html,css file of a angular component waht all corrections is required to be done give drop down for business type ,location type etc shings where there are options to be choosen and all the things that variy the quote price is not asked inside the form ass every thing that is responsible for varing the quote price and once the user click on next and form first from the last entered things by the user shoul be saved inside the form the form should not resest as of not it is reseted and when i come back by prev button it is not shown it should reset when user clicked submit at the last form and the quote generate should be visible just after the form that is the quote form is the quote submission is successful not the alert msg and i have the app alert component for any error showcase and succesffull showcase <app-alert *ngIf="alertMessage" [message]="alertMessage" [type]="alertType"></app-alert> like this <div class="alert" [ngClass]="type"> {{ message }} </div> export class AlertComponent { @Input() message: string | null= ''; @Input() type: 'success' | 'error' |null = 'success'; } have this in alert component generate the updated code for the quote component accoridingly
